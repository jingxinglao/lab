## 一、常见体系结构风格与视图特点

| 风格                         | 核心思想                                                     | 视图关注点                                                   |
| ---------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 分层（Layered）              | 功能按抽象层次划分，每层只与相邻层交互                       | 逻辑视图：层次划分；开发视图：模块分组；部署视图：典型三层部署 |
| 客户端-服务器（C/S）         | 客户端发起请求，服务器提供服务                               | 部署视图：明确客户端与服务器节点；交互视图：请求/响应流程    |
| MVC                          | 将表示 (View)、控制 (Controller)、模型 (Model) 分离；尤其用于 UI 系统 | 逻辑视图：三大组件；过程视图：用户事件→控制器→模型→视图      |
| 管道-过滤（Pipes & Filters） | 数据流经一系列独立的“过滤器”，每个过滤器完成单一处理         | 过程视图：流式处理；逻辑视图：过滤器模块；部署视图：可并行或串行部署 |
| 微服务（Microservices）      | 将系统拆分为一组小而自治的服务，以轻量级通信结合             | 逻辑视图：服务分界；部署视图：容器或独立进程；运维视图：服务治理 |
| 事件-驱动（Event‑Driven）    | 各组件基于消息或事件总线解耦                                 | 过程视图：事件流；逻辑视图：发射者/监听者；部署视图：消息中间件 |



------

### 1.1 我们的校园卡管理系统 项目最优风格

- **候选风格**：分层、客户端‑服务器、MVC、微服务
- **推荐理由**：
  - 我们的校园卡管理系统 采用 B/S 架构，典型三层：表示层（React）、业务层（Python/C++）、数据层（MySQL）。
  - 前端需要清晰的视图-模型分离，后端需要业务逻辑封装。
- **选定架构**：
  - **分层 + MVC 混合**：
    - **逻辑视图**：最外层是 React‑MVC；中间层为一组 REST 服务；最内层为数据库访问层。
    - **部署视图**：浏览器 ←→ Web 服务器（反向代理）←→ 后端服务 ←→ 数据库。

------

## 二、经典 KWIC 系统架构

- **体系结构风格**：管道‑过滤（Pipes & Filters）
- **模块划分**：
  1. **输入过滤器**（读入所有行）
  2. **循环移位过滤器**（对每行做每种首字母移位）
  3. **字母排序过滤器**（对所有移位结果排序）
  4. **输出过滤器**（格式化并输出结果）
- **特点**：
  - 强分离：每个过滤器专注单一职责
  - 高可组合性：可增删过滤器
  - 流水线并行：提高吞吐

------

## 三、基于课本表 5‑3 的风格评分对比

**评分指标**（参考第 5 章表 5‑3）：

1. **模块独立性（Separation of Concerns）**
2. **可理解性（Ease of Understanding）**
3. **可修改性（Modifiability）**
4. **性能效率（Performance）**
5. **复用潜力（Reusability）**

### 3.1 KWIC 系统打分

| 风格                    | 1.独立性 | 2.可理解 | 3.可修改 | 4.性能 | 5.复用 | 总分 |
| ----------------------- | -------- | -------- | -------- | ------ | ------ | ---- |
| 管道‑过滤（Pipe）       | 5        | 4        | 5        | 3      | 4      | 21   |
| 分层（Layered）         | 3        | 5        | 4        | 4      | 3      | 19   |
| 微服务（Microservices） | 4        | 3        | 5        | 4      | 5      | 21   |
| MVC                     | 2        | 4        | 3        | 4      | 2      | 15   |



- **最佳**：管道‑过滤 & 微服务 并列（但微服务对 KWIC 而言过重，故首选管道‑过滤）

### 3.2 我们的校园卡管理系统 系统打分

| 风格                 | 1.独立性 | 2.可理解 | 3.可修改 | 4.性能 | 5.复用 | 总分 |
| -------------------- | -------- | -------- | -------- | ------ | ------ | ---- |
| 分层 + MVC           | 5        | 5        | 5        | 4      | 4      | 23   |
| 客户端‑服务器（C/S） | 4        | 4        | 4        | 4      | 3      | 19   |
| 微服务               | 5        | 3        | 5        | 5      | 5      | 23   |
| 管道‑过滤            | 2        | 3        | 2        | 3      | 2      | 12   |



- **最佳**：
  - **分层 + MVC**：与 我们的校园卡管理系统 需求高度契合，团队熟悉 React/MVC 模式。
  - **微服务**：在可扩展性和性能上略有优势，但架构复杂度和运维成本较高。

------

## 四、小结

1. **我们的校园卡管理系统 项目** 最适合采用 **分层 + MVC** 架构：
   - 能充分利用 React 的视图模型分离，后端分层清晰，易于维护与测试。
2. **KWIC 案例** 则天然符合 **管道‑过滤** 风格：
   - 典型的数据流－过滤器流水线，职责单一、易扩展。
3. 通过表 5‑3 指标打分，结果验证了上述选择的合理性。

以上即为对两套系统的体系结构风格分析与评分，供小组讨论与最终决定。